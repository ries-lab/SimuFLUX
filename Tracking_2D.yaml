Itr:  # Itr is a list of MINFLUX iterations 
- Mode:  # Mode indicates a new iteration
    dim: 2  # Denotes 2D (2) or 3D (3) measurement
    dmod: both 
    dpsf: focFldPlane.pickled
    emod: axial
    epsf: focFldVortex.pickled
    id: prbt  # Determines if the system is scanning with the galvos (Prbt) or EODs/DM (Mflx). 
    modulated: phl
    pattern: hexagon  # Targeted coordinate pattern (TCP) used in the iteration. 
    phDiaAU: 1.5  # pinhole diameter in Airy units
    strategy: BL  # Strategy used during estimator coefficent optimization. 
  _lemd: 5.7551840880162596e-08  # median residual error after estimator coefficient optimization
  _lemn: 6.973999307003672e-08  # mean residual error after estimator coefficient optimization 
  bgcThreshold: 15000.0  # background threshold (Hz)
  ccrLimit: -1.0  # if ccrLimit is set to -1, no cfr check is done (PSF is not moved to center point in TCP)
  estCoeff:  # 3D estimator coefficients (estCoeffL and estCoeffA refer to lateral and axial, resepctively). 
  - - - 2.9981537562242293
      - 0.0
      - 0.0
    - - 0.5896923702612078
      - 0.0
      - 0.0
    - - 0.28095960173679657
      - 0.0
      - 0.0
  - - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
  estCoeffA: unspecified
  estCoeffL: unspecified
  field:
  - 3.23e-07
  - 3.23e-07
  - 3.23e-07
  fldFactor:
  - 0.475
  - 0.475
  - 0.475
  patDwellTime: 0.0001  # Time in seconds that the system measures photons from the fluorophore. 
  patGeoFactor: 0.79  # Determines diameter of TCP pattern (L) as calculated by: patGeoFactor * 360 * (wavelength/642). Do not edit this - estimator coefficients are calculated for specific L sizes. 
  patRepeat: 1  # Number of times the TCP is completed within a single dwell time. 
  phtLimit: 40  # Minimum photon counts required to pass an iteration. 
  pwrFactor: 1.0  # Excitation power scaling. The power set in Imspector at the start of the measurementr is multiplied by "pwrFactor" in each iteration. 
  wavelength: 6.8e-07  # This value should not be changed. It should always refer to the 642 laser, as this is used as a reference in the system. 
- Mode:  # second iteration
    dim: 2
    dmod: axial
    dpsf: focFldPlane.pickled
    emod: both
    epsf: focFldVortex.pickled
    id: mflx  # this time we use EOD instead of galvo
    modulated: exc
    pattern: hexagon
    phDiaAU: 1.5
    strategy: BL
  _lemd: 7.150817078736677e-08
  _lemn: 8.133997920207832e-08
  bgcThreshold: 30000.0
  ccrLimit: -1.0
  estCoeff:
  - - - -2.785678710305831
      - 0.0
      - 0.0
    - - 3.551281009243712
      - 0.0
      - 0.0
    - - -0.9173829795270372
      - 0.0
      - 0.0
  - - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
  estCoeffA: unspecified
  estCoeffL: unspecified
  field:
  - 8.33e-08
  - 8.33e-08
  - 8.33e-08
  fldFactor:
  - 0.1297507788161994
  - 0.1297507788161994
  - 0.1297507788161994
  patDwellTime: 0.0001
  patGeoFactor: 0.84
  patRepeat: 1
  phtLimit: 20
  pwrFactor: 1.0
  wavelength: 6.42e-07
- Mode:
    dim: 2
    dmod: axial
    dpsf: focFldPlane.pickled
    emod: both
    epsf: focFldVortex.pickled
    id: mflx
    modulated: exc
    pattern: hexagon
    phDiaAU: 1.5
    strategy: BL
  _lemd: 2.0758580201875813e-08
  _lemn: 2.4943683707002774e-08
  bgcThreshold: 30000.0
  ccrLimit: 0.8  # cfr check. The cfr check is done (PSF moved to center point in TCP), and the localizaton is discarded as invalid if the calculated cfr is greater than the set threshold. 
  estCoeff:
  - - - -1.139010821696214
      - 0.0
      - 0.0
    - - -3.0265129438021177
      - 0.0
      - 0.0
    - - 5.0274886677312836
      - 0.0
      - 0.0
  - - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
  estCoeffA: unspecified
  estCoeffL: unspecified
  field:
  - 5.6950000000000004e-08
  - 5.6950000000000004e-08
  - 5.6950000000000004e-08
  fldFactor:
  - 0.0887071651090343
  - 0.0887071651090343
  - 0.0887071651090343
  patDwellTime: 0.0001
  patGeoFactor: 0.42
  patRepeat: 1
  phtLimit: 20
  pwrFactor: 2.0
  wavelength: 6.42e-07
- Mode:
    dim: 2
    dmod: axial
    dpsf: focFldPlane.pickled
    emod: both
    epsf: focFldVortex.pickled
    id: mflx
    modulated: exc
    pattern: hexagon
    phDiaAU: 1.5
    strategy: BL
  _lemd: 1.3464518593463269e-08
  _lemn: 1.5991656634100992e-08
  bgcThreshold: 50000.0
  ccrLimit: -1.0
  estCoeff:
  - - - -0.8623568028323454
      - 0.0
      - 0.0
    - - -4.2388804624406085
      - 0.0
      - 0.0
    - - 6.5454966422136
      - 0.0
      - 0.0
  - - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
    - - 0.0
      - 0.0
      - 0.0
  estCoeffA: unspecified
  estCoeffL: unspecified
  field:
  - 3.984581932868417e-08
  - 3.984581932868417e-08
  - 3.984581932868417e-08
  fldFactor:
  - 0.06222741433021808
  - 0.06222741433021808
  - 0.06222741433021808
  patDwellTime: 0.0001
  patGeoFactor: 0.28
  patRepeat: 1
  phtLimit: 20
  pwrFactor: 3.0
  wavelength: 6.42e-07
bgcSense: false  # If 'true', the microscope estimates the background of the sample on the fly during the measurement. This value is used in addition to the background set in each iteration. 
ctrDwellFactor: 0.16  # This factor is multiplied with the dwell time of an iteration where a cfr check is performed, determining the dwell time at the center of the TCP. 
damping: 2  # This factor refers to damping of the galvanometric scanner mirror, with the scanner being moved 1/2^d of distance. This is largely relevant during fast tracking measurements to reduce introduction of shaking after rapid galvo movement. 
defaultField:
  DR: 1.0
  algo: hexgrid
  radius: 4.0e-07
  stride: 1
field:  # Parameters defining the search grid 
  algo: hexgrid  # shape of search pattern
  fldGeoFactor: 0.5  # determines grid spacing
  stride: 1
headstart: -1  # Iteration to return to after a localization is made on the final iteration. If set to a positive value, the system will return to that specific iteration. If set to a negative value, the system will move back the specified number of iterations. 
id: Tracking_2D  # Sequence identifier
liveview:  # Renderings to be opened in Imspector after starting MINFLUX acquisition with this sequence. 
  show:
  - loc
locLimit: -1  # Number of localizations to be made before terminating the localization process; -1 = no limit. 
maxOffTime: unspecified
stickiness: 4  # Number of attempts to localize an emitter after failing a thresholding step before terminating the localizaton. 
